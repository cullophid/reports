# Migration `20190924234158-slides`

This migration has been generated by Andreas MÃ¸ller at 9/24/2019, 11:41:58 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `reports`.`Slide` (
  `id` varchar(191) NOT NULL  ,
  `report` varchar(191)  ,
 FOREIGN KEY (`report`) REFERENCES `reports`.`Report`(`id`) ON DELETE SET NULL,
  PRIMARY KEY (`id`)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

ALTER TABLE `reports`.`Report` ADD COLUMN `height` int NOT NULL DEFAULT 0 ,
ADD COLUMN `width` int NOT NULL DEFAULT 0 ;
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20190914092252-restart..20190924234158-slides
--- datamodel.dml
+++ datamodel.dml
@@ -8,13 +8,20 @@
 }
 model Report {
-  id    String @default(cuid()) @id
-  owner User?
-  title String
+  id     String  @default(cuid()) @id
+  owner  User
+  title  String
+  slides Slide[]
+  width  Int
+  height Int
 }
+model Slide {
+  id     String @default(cuid()) @id
+  report Report
+}
 model User {
   id           String   @default(cuid()) @id
   createdAt    DateTime @default(now())
```

## Photon Usage

You can use a specific Photon built for this migration (20190924234158-slides)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20190924234158-slides'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
