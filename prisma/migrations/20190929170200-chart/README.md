# Migration `20190929170200-chart`

This migration has been generated by Andreas MÃ¸ller at 9/29/2019, 5:02:00 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `reports`.`Chart` (
  `height` int NOT NULL DEFAULT 0 ,
  `id` varchar(191) NOT NULL  ,
  `slide` varchar(191)  ,
 FOREIGN KEY (`slide`) REFERENCES `reports`.`Slide`(`id`) ON DELETE SET NULL,
  `width` int NOT NULL DEFAULT 0 ,
  `x` int NOT NULL DEFAULT 0 ,
  `y` int NOT NULL DEFAULT 0 ,
  PRIMARY KEY (`id`)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20190928122220-remove-user-refetch_token..20190929170200-chart
--- datamodel.dml
+++ datamodel.dml
@@ -17,12 +17,22 @@
   height Int
 }
 model Slide {
-  id     String @default(cuid()) @id
+  id     String  @default(cuid()) @id
   report Report
+  charts Chart[]
 }
+model Chart {
+  id     String @default(cuid()) @id
+  slide  Slide
+  x      Int
+  y      Int
+  width  Int
+  height Int
+}
+
 model User {
   id        String   @default(cuid()) @id
   createdAt DateTime @default(now())
   email     String   @unique
```

## Photon Usage

You can use a specific Photon built for this migration (20190929170200-chart)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20190929170200-chart'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
