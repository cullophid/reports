{"version":3,"file":"static/webpack/static/development/pages/reports.js.8d209f3a1ee2d72c65fb.hot-update.js","sources":["webpack:///./client/ReportList/index.tsx"],"sourcesContent":["import { Text, Title } from \"../components/Typography\"\nimport styled from \"@emotion/styled\"\nimport Link from \"next/link\"\nimport { useReportListGetQuery, useReportListCreateReportMutation } from \"../codegen/graphql\"\nimport { Button } from \"../components/Button\"\nimport { useRouter } from \"next/router\"\nimport { Slide } from \"../components/Slide\"\nimport { Crumbs, CrumbLink, CrumbTitle } from \"../components/Crumbs\"\nimport { css } from \"@emotion/core\"\nimport { colors } from \"../theme\"\nexport const ReportListPage = () => {\n  const router = useRouter()\n  const reportsRequest = useReportListGetQuery();\n\n  const [createReport, createReportRequest] = useReportListCreateReportMutation({\n    onCompleted: (res) => {\n      router.push(`/reports/${res.createReport.id}`)\n    }\n  })\n  const reports = reportsRequest.data && reportsRequest.data.reports\n\n  return (\n    <Layout>\n      <Crumbs css={css`\n        position:absolute;\n        top: 16px;\n        left: 16px;\n      `}>\n        <CrumbTitle>Reports</CrumbTitle>\n      </Crumbs>\n      <CreateReportButton disabled={createReportRequest.loading} onClick={() =>\n        createReport({\n          variables: {\n            title: \"Untitled\"\n          }\n        })\n      } name=\"CreateReport\">New</CreateReportButton>\n      {reportsRequest.loading && <Text>...</Text>}\n      {reports && (\n        <List>\n          {reports.map(report =>\n            <Report key={report.id} onClick={e => {\n              const location = `/reports/${report.id}`\n              if (e.nativeEvent.metaKey || e.nativeEvent.ctrlKey) {\n                window.open(location)\n              } else {\n                router.push(location)\n              }\n            }}>\n              <Slide width={report.width} height={report.height}>\n              </Slide>\n              <ReportActions>\n                <Link href={`/reports/${report.id}`}>\n                  <a>\n                    <Title color=\"white\" fontSize=\"2rem\" fontWeight=\"bold\">\n                      {report.title}\n                    </Title>\n                  </a>\n                </Link>\n              </ReportActions>\n            </Report>\n          )\n          }\n        </List >\n      )\n      }\n    </Layout >\n  )\n}\n\nconst CreateReportButton = styled(Button)`\n        position:absolute;\n        right: 16px;\n        top: 16px;\n      `\n\nconst Layout = styled.div`\n        display:grid;\n        height: 100%;\n        padding: 64px 5%;\n        background:#f5f5f5;\n      `\n\nconst List = styled.ul`\n        display:grid;\n        grid-template-columns: repeat(auto-fill, minmax(150px, 400px));\n        place-content: start center;\n        grid-gap: 5%;\n        padding:0;\n        width: 100%;\n      `\n\nconst Report = styled.li`\n        list-style-type: none;\n        position:relative;\n      `\n\nconst ReportActions = styled.div`\n  position:absolute;\n  bottom:0;\n  left:0;\n  display:block;\n  width:100%;\n  margin:0;\n  padding: 8px 16px;\n  box-sizing: border-box;\n  /* background: rgba(255, 255, 255, 0.3); */\n  text-shadow: 0 1px 5px black;\n      \n`"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAJA;AAAA;AAAA;AACA;AAQA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AADA;AAMA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AA4BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}