{"ast":null,"code":"import { AuthenticationError } from \"apollo-server-core\";\nexport const createReport = async (_, {\n  title\n}, ctx) => {\n  if (!ctx.session.user) {\n    throw new AuthenticationError(\"You are not logged in\");\n  }\n\n  return ctx.photon.reports.create({\n    data: {\n      title,\n      width: 1280,\n      height: 720,\n      owner: {\n        connect: {\n          id: ctx.session.user.sub\n        }\n      }\n    }\n  });\n};","map":{"version":3,"sources":["/Users/andreasmoller/code/reports/server/resolvers/Mutation/createReport.ts"],"names":["AuthenticationError","createReport","_","title","ctx","session","user","photon","reports","create","data","width","height","owner","connect","id","sub"],"mappings":"AACA,SAASA,mBAAT,QAAoC,oBAApC;AAEA,OAAO,MAAMC,YAA+C,GAAG,OAAOC,CAAP,EAAU;AAAEC,EAAAA;AAAF,CAAV,EAAqBC,GAArB,KAA6B;AAC1F,MAAI,CAACA,GAAG,CAACC,OAAJ,CAAYC,IAAjB,EAAuB;AACrB,UAAM,IAAIN,mBAAJ,CAAwB,uBAAxB,CAAN;AACD;;AACD,SAAOI,GAAG,CAACG,MAAJ,CAAWC,OAAX,CAAmBC,MAAnB,CAA0B;AAC/BC,IAAAA,IAAI,EAAE;AACJP,MAAAA,KADI;AAEJQ,MAAAA,KAAK,EAAE,IAFH;AAGJC,MAAAA,MAAM,EAAE,GAHJ;AAIJC,MAAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE;AACPC,UAAAA,EAAE,EAAEX,GAAG,CAACC,OAAJ,CAAYC,IAAZ,CAAiBU;AADd;AADJ;AAJH;AADyB,GAA1B,CAAP;AAYD,CAhBM","sourcesContent":["import { MutationResolvers } from \"../../codegen/graphql\";\nimport { AuthenticationError } from \"apollo-server-core\";\n\nexport const createReport: MutationResolvers[\"createReport\"] = async (_, { title }, ctx) => {\n  if (!ctx.session.user) {\n    throw new AuthenticationError(\"You are not logged in\")\n  }\n  return ctx.photon.reports.create({\n    data: {\n      title,\n      width: 1280,\n      height: 720,\n      owner: {\n        connect: {\n          id: ctx.session.user.sub\n        }\n      }\n    }\n  })\n}"]},"metadata":{},"sourceType":"module"}