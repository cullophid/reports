{"ast":null,"code":"import { ApolloServer } from 'apollo-server-micro';\nimport typeDefs from \"../../schema.graphql\";\nimport Photon from '@generated/photon';\nconst resolvers = {\n  Query: {\n    users: (_, {}, {\n      photon\n    }) => photon.users.findMany()\n  }\n};\nconst apolloServer = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context: () => {\n    const photon = new Photon();\n    photon.connect();\n    return {\n      photon\n    };\n  }\n});\nexport default apolloServer.createHandler({\n  path: \"/api/graphql\"\n});","map":{"version":3,"sources":["/Users/andreasmoller/code/reports/pages/api/graphql.ts"],"names":["ApolloServer","typeDefs","Photon","resolvers","Query","users","_","photon","findMany","apolloServer","context","connect","createHandler","path"],"mappings":"AAAA,SAASA,YAAT,QAA6B,qBAA7B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AAMA,MAAMC,SAAoB,GAAG;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,CAACC,CAAD,EAAI,EAAJ,EAAS;AAAEC,MAAAA;AAAF,KAAT,KAAwBA,MAAM,CAACF,KAAP,CAAaG,QAAb;AAD1B;AADoB,CAA7B;AAMA,MAAMC,YAAY,GAAG,IAAIT,YAAJ,CAAiB;AACpCC,EAAAA,QADoC;AAEpCE,EAAAA,SAFoC;AAGpCO,EAAAA,OAAO,EAAE,MAAM;AACb,UAAMH,MAAM,GAAG,IAAIL,MAAJ,EAAf;AACAK,IAAAA,MAAM,CAACI,OAAP;AACA,WAAO;AACLJ,MAAAA;AADK,KAAP;AAGD;AATmC,CAAjB,CAArB;AAYA,eAAeE,YAAY,CAACG,aAAb,CAA2B;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAA3B,CAAf","sourcesContent":["import { ApolloServer } from 'apollo-server-micro'\nimport typeDefs from \"../../schema.graphql\"\nimport { Resolvers } from \"@generated/graphql\"\nimport Photon from '@generated/photon'\n\nexport type Context = {\n  photon: Photon\n}\n\nconst resolvers: Resolvers = {\n  Query: {\n    users: (_, { }, { photon }) => photon.users.findMany()\n  },\n};\n\nconst apolloServer = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context: () => {\n    const photon = new Photon()\n    photon.connect();\n    return {\n      photon\n    }\n  }\n});\n\nexport default apolloServer.createHandler({ path: \"/api/graphql\" });"]},"metadata":{},"sourceType":"module"}