{"ast":null,"code":"import _slicedToArray from \"/Users/andreas/code/reports/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from \"react\";\nexport var useDrag = function useDrag(_ref) {\n  var onDragStart = _ref.onDragStart,\n      onDrag = _ref.onDrag,\n      onDragEnd = _ref.onDragEnd;\n  var containerRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isMouseDown = _useState2[0],\n      setIsMouseDown = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDragging = _useState4[0],\n      setIsDragging = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mousePos = _useState6[0],\n      setMousePos = _useState6[1];\n\n  var mouseup = function mouseup(e) {\n    setIsMouseDown(false);\n    setIsDragging(false);\n    setMousePos(null);\n    if (!isDragging) return;\n    onDragEnd(e);\n  };\n\n  useEffect(function () {\n    document.addEventListener(\"mouseup\", mouseup);\n    return function () {\n      return document.removeEventListener(\"mouseup\", mouseup);\n    };\n  });\n  return {\n    ref: containerRef,\n    onMouseDown: function onMouseDown(e) {\n      setIsMouseDown(true);\n      setMousePos({\n        x: e.clientX,\n        y: e.clientY\n      });\n    },\n    onMouseMove: function onMouseMove(e) {\n      if (!isMouseDown) return;\n\n      if (isMouseDown && !isDragging) {\n        onDragStart(e);\n      }\n\n      onDrag(e);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/andreas/code/reports/app/src/hooks/mouse.ts"],"names":["useState","useEffect","useRef","useDrag","onDragStart","onDrag","onDragEnd","containerRef","isMouseDown","setIsMouseDown","isDragging","setIsDragging","mousePos","setMousePos","mouseup","e","document","addEventListener","removeEventListener","ref","onMouseDown","x","clientX","y","clientY","onMouseMove"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AAkBA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAsD;AAAA,MAAnDC,WAAmD,QAAnDA,WAAmD;AAAA,MAAtCC,MAAsC,QAAtCA,MAAsC;AAAA,MAA9BC,SAA8B,QAA9BA,SAA8B;AAC3E,MAAIC,YAAY,GAAGL,MAAM,CAAC,IAAD,CAAzB;;AAD2E,kBAEvCF,QAAQ,CAAC,KAAD,CAF+B;AAAA;AAAA,MAEtEQ,WAFsE;AAAA,MAEzDC,cAFyD;;AAAA,mBAGzCT,QAAQ,CAAC,KAAD,CAHiC;AAAA;AAAA,MAGtEU,UAHsE;AAAA,MAG1DC,aAH0D;;AAAA,mBAI7CX,QAAQ,CAAkC,IAAlC,CAJqC;AAAA;AAAA,MAItEY,QAJsE;AAAA,MAI5DC,WAJ4D;;AAM3E,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,CAAD,EAAmB;AACjCN,IAAAA,cAAc,CAAC,KAAD,CAAd;AACAE,IAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,QAAI,CAACH,UAAL,EAAiB;AACjBJ,IAAAA,SAAS,CAACS,CAAD,CAAT;AACD,GAND;;AAQAd,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCH,OAArC;AACA,WAAO;AAAA,aAAME,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCJ,OAAxC,CAAN;AAAA,KAAP;AACD,GAHQ,CAAT;AAKA,SAAO;AACLK,IAAAA,GAAG,EAAEZ,YADA;AAELa,IAAAA,WAAW,EAAE,qBAACL,CAAD,EAA8B;AACzCN,MAAAA,cAAc,CAAC,IAAD,CAAd;AACAI,MAAAA,WAAW,CAAC;AACVQ,QAAAA,CAAC,EAAEN,CAAC,CAACO,OADK;AAEVC,QAAAA,CAAC,EAAER,CAAC,CAACS;AAFK,OAAD,CAAX;AAID,KARI;AASLC,IAAAA,WAAW,EAAE,qBAACV,CAAD,EAA8B;AACzC,UAAI,CAACP,WAAL,EAAkB;;AAClB,UAAIA,WAAW,IAAI,CAACE,UAApB,EAAgC;AAC9BN,QAAAA,WAAW,CAACW,CAAD,CAAX;AACD;;AACDV,MAAAA,MAAM,CAACU,CAAD,CAAN;AACD;AAfI,GAAP;AAiBD,CApCM","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n\ntype useDragProps = {\n  onDragStart: (e: MouseDragEvent) => void;\n  onDrag: (e: React.MouseEvent<any>) => void;\n  onDragEnd: (e: MouseEvent) => void;\n};\n\nexport type MouseDragEvent<El = Element> = {\n  clientX: number;\n  clientY: number;\n  x: number;\n  y: number;\n  deltaX: number;\n  deltaY: number;\n  target: El;\n};\n\nexport const useDrag = ({ onDragStart, onDrag, onDragEnd }: useDragProps) => {\n  let containerRef = useRef(null);\n  let [isMouseDown, setIsMouseDown] = useState(false);\n  let [isDragging, setIsDragging] = useState(false);\n  let [mousePos, setMousePos] = useState<{ x: number; y: number } | null>(null);\n\n  const mouseup = (e: MouseEvent) => {\n    setIsMouseDown(false);\n    setIsDragging(false);\n    setMousePos(null);\n    if (!isDragging) return;\n    onDragEnd(e);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mouseup\", mouseup);\n    return () => document.removeEventListener(\"mouseup\", mouseup);\n  });\n\n  return {\n    ref: containerRef,\n    onMouseDown: (e: React.MouseEvent<any>) => {\n      setIsMouseDown(true);\n      setMousePos({\n        x: e.clientX,\n        y: e.clientY\n      });\n    },\n    onMouseMove: (e: React.MouseEvent<any>) => {\n      if (!isMouseDown) return;\n      if (isMouseDown && !isDragging) {\n        onDragStart(e);\n      }\n      onDrag(e);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}