{"ast":null,"code":"import _slicedToArray from \"/Users/andreas/code/reports/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andreas/code/reports/app/src/components/TextEditor.tsx\";\nimport React, { useState } from \"react\";\nimport { Editor } from \"slate-react\";\nimport Plain from \"slate-plain-serializer\";\nimport { debounce } from \"../util\";\n\nvar TextEditor = function TextEditor(props) {\n  var _useState = useState(Plain.deserialize(props.defaultValue)),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var save = debounce(function (value) {\n    props.onSave && props.onSave(Plain.serialize(value));\n  }, 500);\n\n  var onChange = function onChange(_ref) {\n    var value = _ref.value;\n    setValue(value);\n    save(value);\n  };\n\n  return React.createElement(Editor, {\n    autoFocus: true,\n    value: value,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  });\n};\n\nexport default TextEditor;","map":{"version":3,"sources":["/Users/andreas/code/reports/app/src/components/TextEditor.tsx"],"names":["React","useState","Editor","Plain","debounce","TextEditor","props","deserialize","defaultValue","value","setValue","save","onSave","serialize","onChange"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,SAASC,QAAT,QAAyB,SAAzB;;AAMA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAkB;AAAA,kBACTL,QAAQ,CAChCE,KAAK,CAACI,WAAN,CAAkBD,KAAK,CAACE,YAAxB,CADgC,CADC;AAAA;AAAA,MAC5BC,KAD4B;AAAA,MACrBC,QADqB;;AAKnC,MAAMC,IAAI,GAAGP,QAAQ,CAAC,UAACK,KAAD,EAAkB;AACtCH,IAAAA,KAAK,CAACM,MAAN,IAAgBN,KAAK,CAACM,MAAN,CAAaT,KAAK,CAACU,SAAN,CAAgBJ,KAAhB,CAAb,CAAhB;AACD,GAFoB,EAElB,GAFkB,CAArB;;AAIA,MAAMK,QAAQ,GAAG,SAAXA,QAAW,OAAuB;AAAA,QAApBL,KAAoB,QAApBA,KAAoB;AACtCC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAE,IAAAA,IAAI,CAACF,KAAD,CAAJ;AACD,GAHD;;AAKA,SAAO,oBAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,KAAK,EAAEA,KAAzB;AAAgC,IAAA,QAAQ,EAAEK,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAfD;;AAiBA,eAAeT,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Editor } from \"slate-react\";\nimport Plain from \"slate-plain-serializer\";\nimport { Change, Value } from \"slate\";\nimport { debounce } from \"../util\";\ntype props = {\n  defaultValue: string;\n  onSave?: (value: string) => void;\n};\n\nconst TextEditor = (props: props) => {\n  const [value, setValue] = useState<Value>(\n    Plain.deserialize(props.defaultValue)\n  );\n\n  const save = debounce((value: Value) => {\n    props.onSave && props.onSave(Plain.serialize(value));\n  }, 500);\n\n  const onChange = ({ value }: Change) => {\n    setValue(value);\n    save(value);\n  };\n\n  return <Editor autoFocus value={value} onChange={onChange} />;\n};\n\nexport default TextEditor;\n"]},"metadata":{},"sourceType":"module"}