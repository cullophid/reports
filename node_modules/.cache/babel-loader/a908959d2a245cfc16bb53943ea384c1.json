{"ast":null,"code":"import _slicedToArray from \"/Users/andreas/code/reports/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andreas/code/reports/app/src/components/DragHandle.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"react-emotion\";\nimport * as Theme from \"../theme\";\nexport var DragHandle = function DragHandle(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      pressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  var onMouseUp = function onMouseUp() {\n    document.removeEventListener(\"mousemove\", onMouseMove);\n    setPressed(null);\n  };\n\n  var onMouseDown = function onMouseDown(e) {\n    e.stopPropagation();\n    setPressed({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n\n  var onMouseMove = function onMouseMove(e) {\n    e.stopPropagation();\n    if (!pressed) return;\n    props.onDrag && props.onDrag({\n      x: e.clientX - pressed.x,\n      y: e.clientY - pressed.y\n    });\n    setPressed({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n\n  useEffect(function () {\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n    return function () {\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, [pressed]);\n  return React.createElement(Handle, {\n    style: props.style || {},\n    onMouseDown: onMouseDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  });\n};\nvar Handle =\n/*#__PURE__*/\nstyled(\"div\", {\n  label: \"Handle\",\n  target: \"e14jtcun0\"\n})(\"position:absolute;margin-top:-6px;margin-left:-6px;margin-right:-7px;margin-bottom:-7px;width:12px;height:12px;border-radius:1000px;background:\", Theme.primary, \";\");","map":{"version":3,"sources":["/Users/andreas/code/reports/app/src/components/DragHandle.tsx"],"names":["React","useState","useEffect","styled","Theme","DragHandle","props","pressed","setPressed","onMouseUp","document","removeEventListener","onMouseMove","onMouseDown","e","stopPropagation","x","clientX","y","clientY","onDrag","addEventListener","style","Handle","primary"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAO,KAAKC,KAAZ,MAAuB,UAAvB;AAOA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAkB;AAAA,kBACZL,QAAQ,CAAkC,IAAlC,CADI;AAAA;AAAA,MACnCM,OADmC;AAAA,MAC1BC,UAD0B;;AAG1C,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBC,IAAAA,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CC,WAA1C;AACAJ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAHD;;AAKA,MAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAyB;AAC3CA,IAAAA,CAAC,CAACC,eAAF;AACAP,IAAAA,UAAU,CAAC;AAAEQ,MAAAA,CAAC,EAAEF,CAAC,CAACG,OAAP;AAAgBC,MAAAA,CAAC,EAAEJ,CAAC,CAACK;AAArB,KAAD,CAAV;AACD,GAHD;;AAKA,MAAMP,WAAW,GAAG,SAAdA,WAAc,CAACE,CAAD,EAAmB;AACrCA,IAAAA,CAAC,CAACC,eAAF;AACA,QAAI,CAACR,OAAL,EAAc;AACdD,IAAAA,KAAK,CAACc,MAAN,IACEd,KAAK,CAACc,MAAN,CAAa;AACXJ,MAAAA,CAAC,EAAEF,CAAC,CAACG,OAAF,GAAYV,OAAO,CAACS,CADZ;AAEXE,MAAAA,CAAC,EAAEJ,CAAC,CAACK,OAAF,GAAYZ,OAAO,CAACW;AAFZ,KAAb,CADF;AAKAV,IAAAA,UAAU,CAAC;AAAEQ,MAAAA,CAAC,EAAEF,CAAC,CAACG,OAAP;AAAgBC,MAAAA,CAAC,EAAEJ,CAAC,CAACK;AAArB,KAAD,CAAV;AACD,GATD;;AAWAjB,EAAAA,SAAS,CACP,YAAM;AACJQ,IAAAA,QAAQ,CAACW,gBAAT,CAA0B,SAA1B,EAAqCZ,SAArC;AACAC,IAAAA,QAAQ,CAACW,gBAAT,CAA0B,WAA1B,EAAuCT,WAAvC;AACA,WAAO,YAAM;AACXF,MAAAA,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,EAAwCF,SAAxC;AACAC,MAAAA,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CC,WAA1C;AACD,KAHD;AAID,GARM,EASP,CAACL,OAAD,CATO,CAAT;AAWA,SAAO,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAED,KAAK,CAACgB,KAAN,IAAe,EAA9B;AAAkC,IAAA,WAAW,EAAET,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CApCM;AAsCP,IAAMU,MAAM;AAAA;AAAGpB,MAAH;AAAA;AAAA;AAAA,sJASIC,KAAK,CAACoB,OATV,MAAZ","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"react-emotion\";\nimport * as Theme from \"../theme\";\n\ntype props = {\n  onDrag?: (offset: { x: number; y: number }) => void;\n  style?: React.CSSProperties;\n};\n\nexport const DragHandle = (props: props) => {\n  const [pressed, setPressed] = useState<{ x: number; y: number } | null>(null);\n\n  const onMouseUp = () => {\n    document.removeEventListener(\"mousemove\", onMouseMove);\n    setPressed(null);\n  };\n\n  const onMouseDown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setPressed({ x: e.clientX, y: e.clientY });\n  };\n\n  const onMouseMove = (e: MouseEvent) => {\n    e.stopPropagation();\n    if (!pressed) return;\n    props.onDrag &&\n      props.onDrag({\n        x: e.clientX - pressed.x,\n        y: e.clientY - pressed.y\n      });\n    setPressed({ x: e.clientX, y: e.clientY });\n  };\n\n  useEffect(\n    () => {\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n      return () => {\n        document.removeEventListener(\"mouseup\", onMouseUp);\n        document.removeEventListener(\"mousemove\", onMouseMove);\n      };\n    },\n    [pressed]\n  );\n  return <Handle style={props.style || {}} onMouseDown={onMouseDown} />;\n};\n\nconst Handle = styled.div`\n  position: absolute;\n  margin-top: -6px;\n  margin-left: -6px;\n  margin-right: -7px;\n  margin-bottom: -7px;\n  width: 12px;\n  height: 12px;\n  border-radius: 1000px;\n  background: ${Theme.primary};\n`;\n"]},"metadata":{},"sourceType":"module"}